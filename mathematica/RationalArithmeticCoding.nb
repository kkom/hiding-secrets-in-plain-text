Notebook[{

Cell[CellGroupData[{
Cell["Rational Arithmetic Coding", "Title",
 CellChangeTimes->{{3.591092208437495*^9, 3.591092214615006*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"BeginPackage", "[", "\"\<RationalArithmeticCoding`\>\"", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"RationalACEncoder", "::", "usage"}], "=", 
   "\"\<RationalACEncoder[S,p,c] encodes a sequence of integer choices S \
using the conditional marginal and cumulative distributions p and c.\>\""}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"RationalACEncoder", "[", 
    RowBox[{"sequence_", ",", "p_", ",", "c_"}], "]"}], ":=", 
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", "\[CapitalPhi]", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalPhi]", "[", 
        RowBox[{"{", "}"}], "]"}], "=", 
       RowBox[{"(", GridBox[{
          {"0"},
          {"1"}
         }], ")"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"\[CapitalPhi]", "[", "S_", "]"}], ":=", 
       RowBox[{
        RowBox[{"\[CapitalPhi]", "[", "S", "]"}], "=", 
        RowBox[{
         RowBox[{"(", GridBox[{
            {"1", 
             RowBox[{"c", "[", 
              RowBox[{
               RowBox[{"Last", "[", "S", "]"}], ",", 
               RowBox[{"Most", "[", "S", "]"}]}], "]"}]},
            {"0", 
             RowBox[{"p", "[", 
              RowBox[{
               RowBox[{"Last", "[", "S", "]"}], ",", 
               RowBox[{"Most", "[", "S", "]"}]}], "]"}]}
           }], ")"}], ".", 
         RowBox[{"\[CapitalPhi]", "[", 
          RowBox[{"Most", "[", "S", "]"}], "]"}]}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"\[CapitalPhi]", "[", "sequence", "]"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"End", "[", "]"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{"EndPackage", "[", "]"}]}], "Input",
 InitializationCell->True]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{740, 624},
WindowMargins->{{Automatic, 167}, {Automatic, 14}},
FrontEndVersion->"9.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (January 25, \
2013)",
StyleDefinitions->"Default.nb"
]

